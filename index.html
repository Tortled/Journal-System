<!DOCTYPE html>
<html lang="en">
<head>
  <script>
    (function () {
      if (new URLSearchParams(location.search).has('desktop')) return;
      const isiOS = /iPhone|iPad|iPod/i.test(navigator.userAgent);
      const smallScreen = window.matchMedia("(max-width: 640px)").matches;
      if (isiOS || smallScreen) location.replace("index.mobile.html");
    })();
  </script>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Journal System - Login</title>

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@700&display=swap');
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: 'Inter', sans-serif;
    }
    .desktop {
      position: relative;
      width: 100%;
      height: 100vh;
      background: #343541;
    }
    .journalLabel {
      width: 100%;
      position: absolute;
      top: 27px;
      font-size: 123px;
      font-weight: 800;
      text-align: center;
      color: #000000;
    }
    .passwordLabel, .button {
      font-size: 25px;
      line-height: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
      border: 4px solid #000000;
      background: #78787F;
      color: #000000;
      font-weight: bold;
      position: fixed;
      bottom: 13%;
      height: 54px;
    }
    .passwordLabel {
      width: 191px;
      left: calc(50% - 595px / 2 - 95.5px);
      border-radius: 20px 0 0 20px;
      z-index: 75;
    }
    .button {
      width: 191px;
      right: calc(50% - 595px / 2 - 95.5px);
      background: #58AD5A;
      border-radius: 0 20px 20px 0;
      cursor: pointer;
      z-index: 75;
    }
    .passwordTextbox {
      position: fixed;
      bottom: 13%;
      z-index: 100;
      left: calc(50% - 595px / 2 + 95.5px);
      right: calc(50% - 595px / 2 + 95.5px);
      height: 52px;
      background: #5A5A69;
      color: #000000;
      font-family: 'Consolata', monospace;
      font-weight: bold;
      font-size: 20px;
      text-align: left;
      padding-left: 10px;
      border: 4px solid #000000;
    }
    .passwordTextbox::placeholder {
      color: #909099;
      opacity: 1;
    }
    .notice {
      position: absolute;
      width: 875px;
      left: 50%;
      z-index: 50;
      transform: translateX(-50%);
      top: calc(50vh - 200px);
      background: #78787F;
      border: 4px solid #000000;
      border-radius: 20px;
      font-family: 'Consolata', monospace;
      font-weight: bold;
      font-size: 18px;
      padding: 10px;
      box-sizing: border-box;
      text-align: center;
    }
    .versionLabel {
        position: absolute;
        left: 0;
        top: 0;
        padding: 7px 7px; /* Added more right padding */
        font-size: 17px;
        border: 3px solid #000000;
        background: #78787F;
        border-radius: 0 0 20px 0;
        font-weight: bold;
        width: 287px; /* Expanded to fit extra spacing */
        display: flex;
        align-items: center;
        gap: 6px; /* Ensures spacing between elements */
    }

    /* Ensure spacing between text items */
    #versionText {
        display: inline-block;
        margin-right: 2px; /* Space between version and | */
    }
    .separator {
        display: inline-block;
        margin-right: 15px; /* Space between | and LIVE */
    }
    .live {
        color: green;
        display: inline-block;
        margin-right: 7px; /* Space between LIVE and dot */
    }

    /* Pulsating dot positioned correctly */
    .statusCircle {
        width: 15px;
        height: 15px;
        border-radius: 50%;
        background-color: green;
        position: relative;
        animation: pulseGreen 1.5s infinite;
    }
    @keyframes pulseGreen {
      0% {
        box-shadow: 0 0 0 0 rgba(0, 128, 0, 0.7);
      }
      70% {
        box-shadow: 0 0 0 10px rgba(0, 128, 0, 0);
      }
      100% {
        box-shadow: 0 0 0 0 rgba(0, 128, 0, 0);
      }
    }
    .imageBox {
      position: absolute;
      right: 0;
      top: 0;
      width: 185px;
      height: 162px;
      background: #78787F;
      border: 4px solid #000000;
      border-radius: 0 0 0 20px;
    }
    .image {
      position: absolute;
      right: 16px;
      top: 5px;
      width: 160px;
      height: 160px;
      background-size: cover;
    }
  </style>
</head>
<body>
  <div class="desktop">
    <div class="passwordLabel">Password:</div>
    <input type="text" class="passwordTextbox" id="passwordTextBox" placeholder="Enter Password..." onkeydown="validatePassword(event)">
    <div class="button" onclick="validatePassword(null)">Validate</div>
    <div class="notice">
      <p>The “Journal System” is solely maintained by and for Patrick Murray.</p>
      <p>All content is confidential and unauthorized access is strictly prohibited.</p>
      <p>Sharing, using, deleting, or distributing data is per my sole discretion only.</p>
      <p>The integrity of the Journal System is protected under Federal Law 8 USC §1030.</p>
      <p>Violators of these terms will be prosecuted to the fullest extent of the law.</p>
      <p>Both criminal and civil charges may be pressed in accordance with violations.</p>
      <p>By refusing to close this page, you acknowledge acceptance of these terms.</p>
      <p>Your activity here may be automatically monitored by the Journal System.</p>
      <p>The right is reserved to amend or modify this statement at any time.</p>
    </div>
    <div class="journalLabel">Journal System</div>
    <div class="imageBox"></div>
    <div class="image"></div>
    <div class="versionLabel">
      Version: <span id="versionText"></span>|<span class="live">CONNECTED</span>
      <div class="statusCircle"> </div>
    </div>
  </div>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Create favicon link
      const link = document.createElement('link');
      link.rel = 'icon';
      link.href = 'JournalLogo.svg'; // <-- loads the SVG from the same folder
      document.head.appendChild(link);
  
      // Set the image background (if you still use that element)
      const imgElement = document.querySelector('.image');
      if (imgElement) {
        imgElement.style.backgroundImage = 'url("JournalLogo.svg")';
        imgElement.style.backgroundSize = 'contain';
        imgElement.style.backgroundRepeat = 'no-repeat';
        imgElement.style.backgroundPosition = 'center';
      }

      // Dynamically calculate version
      var date = new Date();
      var year = date.getFullYear();
      var month = date.getMonth() + 1; // JavaScript months are 0-11
      var day = date.getDate();
      var calculated_version;

      if (month === 1 && day < 20) {
        calculated_version = (year - 2007 - 1) + ".13";
      } else {
        calculated_version = (year - 2007) + "." + String(month).padStart(2, '0');
      }
      document.getElementById('versionText').innerText = calculated_version;
    });

    function validatePassword(event) {
      if (!event || (event && event.key === "Enter")) {
        var box = document.getElementById('passwordTextBox');
        box.value = "";
        box.style.border = "4px solid #bf2828";
        setTimeout(function() {
          box.style.border = "4px solid #000000";
        }, 1000);
      }
    }
  </script>
</body>
</html>


